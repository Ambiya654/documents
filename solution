Change 1 ‚Äî SP mein (filter ke liye)
Parameter add karo ‚Äî @hreid ke baad:
sql@hreid varchar(50)=null,
@received_type varchar(50)=null
NULL check add karo ‚Äî @billmode check ke baad:
sqlIF @received_type='NULL' or @received_type=''
SET @received_type = NULL
Filter condition add karo ‚Äî @billmode condition ke baad:
sqlIF (@received_type IS NOT NULL OR @received_type <>'')
set @sql = @sql + ' AND b.received_type IN ('''+@received_type+''')'

Change 2 ‚Äî Assignment Page GridView mein (column ke liye)
R1805_ATA_assignement.aspx mein ‚Äî lblBillReviewAssignedto column ke baad:
aspx<asp:TemplateField HeaderText="Received Type" HeaderStyle-HorizontalAlign="Left">
    <ItemTemplate>
        <asp:Label runat="server" ID="lblReceivedType" Text='<%#Eval("received_type") %>' />
    </ItemTemplate>
    <ItemStyle HorizontalAlign="Left" />
</asp:TemplateField>

Change 3 ‚Äî Assignment Page .cs mein (session restore ke liye)
Page_Load mein ‚Äî strToTime.Value ke baad:
csharpstrToTime.Value = Convert.ToString(Session["ToTime"]);
strReceivedType.Value = Convert.ToString(Session["sReceivedType"]); // ‚Üê ADD KARO
btnBack_Click mein ‚Äî Session["ToTime"] ke baad:
csharpSession["ToTime"] = strToTime.Value;
Session["sReceivedType"] = strReceivedType.Value; // ‚Üê ADD KARO

Change 4 ‚Äî Assignment Page .aspx mein Hidden Field
Baaki hidden fields ke baad:
aspx<asp:HiddenField runat="server" ID="strToTime" />
<asp:HiddenField runat="server" ID="strReceivedType" /> <%-- ‚Üê ADD KARO --%>

Change 5 ‚Äî Entry Page getdata() mein SP call update
@billmode parameter ke baad:
csharpcmd.Parameters.AddWithValue("@billmode", String.IsNullOrEmpty(pBillMode) ? DBNull.Value : (object)pBillMode);

// ‚Üì ADD KARO:
string pReceivedType = string.Empty;
if (!string.IsNullOrEmpty(strReceivedType))
    pReceivedType = strReceivedType;

cmd.Parameters.AddWithValue("@received_type", String.IsNullOrEmpty(pReceivedType) ? DBNull.Value : (object)pReceivedType);
Session query string update karo ‚Äî existing Session["SamplingQuery"] line replace karo:
csharpSession["SamplingQuery"] = "exec PRC_GET_AUDIT_SAMPLING_DATA_V1 '" 
    + cmd.Parameters[0].Value + "','"   // FROMDate
    + cmd.Parameters[1].Value + "','"   // TODate
    + cmd.Parameters[2].Value + "','"   // phase
    + cmd.Parameters[3].Value + "','"   // audittype
    + cmd.Parameters[4].Value + "','"   // filtertype
    + cmd.Parameters[5].Value + "','"   // billtype
    + cmd.Parameters[6].Value + "','"   // billcode
    + cmd.Parameters[7].Value + "','"   // clientid
    + cmd.Parameters[8].Value + "','"   // billform
    + cmd.Parameters[9].Value + "','"   // billmode
    + cmd.Parameters[10].Value + "','"  // min amount
    + cmd.Parameters[11].Value + "','"  // max amount
    + cmd.Parameters[12].Value + "','"  // assigner_id
    + cmd.Parameters[13].Value + "'"    // PERC
    // hreid null rahega, received_type add hoga next page par
    + ",''"                             // hreid
    + ",'" + cmd.Parameters[14].Value + "'"; // received_type

Summary Table:
FileKahanKyaSPParameters, NULL check, filter@received_type addEntry .aspxBill Type ke baadReceivedType dropdown + checkboxEntry .csgetdata()SP parameter + session queryEntry .csfn_FormData()Session saveEntry .csupdateField()Restore on backAssignment .aspxGridView columnsreceived_type columnAssignment .aspxHidden fieldsstrReceivedTypeAssignment .csPage_LoadSession restoreAssignment .csbtnBack_ClickSession save
Koi confusion ho toh batao! üòä
